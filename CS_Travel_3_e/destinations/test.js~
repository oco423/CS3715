window.onload = init;
function init(){
	document.getElementById('identity').onchange = function() {
    	var i = 1;
    	var myDiv = document.getElementById("inputtype" + i);
    	while(myDiv) {
        	myDiv.style.display = 'none';
        	myDiv = document.getElementById("inputtype" + ++i);
    	}
    	document.getElementById(this.value).style.display = 'block';
    	var button1 = document.getElementById("button1");
    	var button2 = document.getElementById("button2");
 	}
}
var commentTitleInput;
var commentTitle;
var customerNameInput;
var customerName;
var ratingInput;
var rating;
var reviewInput;
var review;
var managerReviewInput;
var managerReview;
function handleTravellerPost(){
	window.commentTitleInput = document.getElementById("title");
	window.commentTitle = window.commentTitleInput.value;
	window.customerNameInput = document.getElementById("username");
	window.customerName = window.customerNameInput.value;
	window.ratingInput = document.getElementById("rating");
	window.rating = window.ratingInput.value;
	window.reviewInput = document.getElementById("reviewtext");
	window.review = window.reviewInput.value;
	
	var today = new Date();
	var dd = today.getDate();
	var mm = today.getMonth()+1;
	var yyyy = today.getFullYear();

	if (mm == 1){
		mm = "January";		
	}else if (mm == 2){
		mm = "February";
	}else if (mm == 3){
		mm = "March";
	}else if (mm == 4){
		mm = "April";
	}else if (mm == 5){
		mm = "May";
	}else if (mm == 6){
		mm = "June";
	}else if (mm == 7){
		mm = "July";
	}else if (mm == 8){
		mm = "August";
	}else if (mm == 9){
		mm = "September";
	}else if (mm == 10){
		mm = "October";
	}else if (mm == 11){
		mm = "November";
	}else if (mm == 12){
		mm = "December";
	}

	today = mm+' '+dd+', '+yyyy;
	
	var newReview = document.createElement("div");
	var r = window.review;
	
	newReview.innerHTML = "<b><p><q>" + window.commentTitle + "</b></p></q>";
	
	newReview.innerHTML += "<font size = '2'><p>by " + window.customerName + ", Written " + window.today + "</p></font>";

	newReview.innerHTML += "<p> <b>Rating:</b> " + window.rating + "/5 </p>";
"Test"
	newReview.innerHTML += "<p>" + window.review + "</p>";
	
	newReview.innerHTML += "<form><input type='button' id='button1' onclick='handleDeleteButton();' value='Delete'></form>";
	
	newReview.setAttribute("class","review");
	
	var newReviewAndResponse = document.createElement("div");
	newReviewAndResponse.innerHTML = newReview;
	newReviewAndResponse.setAttribute("class","reviewandresponse");
	
	var reviews = document.getElementById("reviews");
	reviews.insertBefore(newReview, reviews.firstChild);
}
function handleManagerPost(){
	window.managerReviewInput = document.getElementById("managerreview");
	window.managerReview = window.managerReviewInput.value;
	
	var newResponse = document.createElement("div");
	var r = window.review;
	
	newResponse.setAttribute("class","response");
	newResponse.innerHTML = "<p><em>" + window.managerReview + "</em> -Great Escapes Crew</p>";
	
	newResponse.innerHTML += "<form><input type='button' id='button1' onclick='handleDeleteButton();' value='Delete'></form>";
	
	var reviews = document.getElementById("reviews");
	reviews.insertBefore(newResponse, reviews.firstChild);
}
function handleDeleteButton(){
	var deletedArea = document.getElementById("deletedcomments");
	deletedArea.style.display = 'block';
	var deletedComment = document.createElement("div");
	deletedComment.innerHTML = r;
	deletedArea.insertBefore(deletedComment, deletedArea.firstChild);
	document.appendChild(deletedArea);
}